[{"filePath":"D:\\New Projects\\New_Trial\\AI-Voice-Calculator\\react_app\\eslint.config.js","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"D:\\New Projects\\New_Trial\\AI-Voice-Calculator\\react_app\\src\\App.jsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"D:\\New Projects\\New_Trial\\AI-Voice-Calculator\\react_app\\src\\components\\DateCalculator.jsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"D:\\New Projects\\New_Trial\\AI-Voice-Calculator\\react_app\\src\\components\\Display.jsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"D:\\New Projects\\New_Trial\\AI-Voice-Calculator\\react_app\\src\\components\\Header.jsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"D:\\New Projects\\New_Trial\\AI-Voice-Calculator\\react_app\\src\\components\\Keypad.jsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"D:\\New Projects\\New_Trial\\AI-Voice-Calculator\\react_app\\src\\components\\ScientificKeys.jsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"D:\\New Projects\\New_Trial\\AI-Voice-Calculator\\react_app\\src\\components\\StandardKeys.jsx","messages":[{"ruleId":"no-unused-vars","severity":2,"message":"'onDelete' is defined but never used.","line":3,"column":62,"nodeType":"Identifier","messageId":"unusedVar","endLine":3,"endColumn":70,"suggestions":[{"messageId":"removeVar","data":{"varName":"onDelete"},"fix":{"range":[89,99],"text":""},"desc":"Remove unused variable 'onDelete'."}]}],"suppressedMessages":[],"errorCount":1,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"source":"import React from 'react';\r\n\r\nconst StandardKeys = ({ onInput, onAction, onClear, onEqual, onDelete }) => {\r\n    return (\r\n        <div className=\"std-keys\">\r\n            {/* Row 1 */}\r\n            <button className=\"btn\" id=\"percentBtn\" onClick={() => onAction('%')}>%</button>\r\n            <button className=\"btn\" id=\"sqrtBtn\" onClick={() => onAction('sqrt')}>√</button>\r\n            <button className=\"btn\" id=\"squareBtn\" onClick={() => onAction('square')}>x²</button>\r\n            <button className=\"btn operator\" onClick={() => onInput('/')}>÷</button>\r\n\r\n            {/* Row 2 */}\r\n            <button className=\"btn\" onClick={() => onInput('7')}>7</button>\r\n            <button className=\"btn\" onClick={() => onInput('8')}>8</button>\r\n            <button className=\"btn\" onClick={() => onInput('9')}>9</button>\r\n            <button className=\"btn operator\" onClick={() => onInput('*')}>×</button>\r\n\r\n            {/* Row 3 */}\r\n            <button className=\"btn\" onClick={() => onInput('4')}>4</button>\r\n            <button className=\"btn\" onClick={() => onInput('5')}>5</button>\r\n            <button className=\"btn\" onClick={() => onInput('6')}>6</button>\r\n            <button className=\"btn operator\" onClick={() => onInput('-')}>−</button>\r\n\r\n            {/* Row 4 */}\r\n            <button className=\"btn\" onClick={() => onInput('1')}>1</button>\r\n            <button className=\"btn\" onClick={() => onInput('2')}>2</button>\r\n            <button className=\"btn\" onClick={() => onInput('3')}>3</button>\r\n            <button className=\"btn operator\" onClick={() => onInput('+')}>+</button>\r\n\r\n            {/* Row 5 */}\r\n            <button className=\"btn\" onClick={() => onInput('0')}>0</button>\r\n            <button className=\"btn\" onClick={() => onInput('.')}>.</button>\r\n            <button className=\"btn clear\" id=\"clearBtn\" onClick={onClear}>AC</button>\r\n            <button className=\"btn equal\" onClick={onEqual}>=</button>\r\n        </div>\r\n    );\r\n};\r\n\r\nexport default StandardKeys;\r\n","usedDeprecatedRules":[]},{"filePath":"D:\\New Projects\\New_Trial\\AI-Voice-Calculator\\react_app\\src\\components\\VoiceControl.jsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"D:\\New Projects\\New_Trial\\AI-Voice-Calculator\\react_app\\src\\hooks\\useCalculator.js","messages":[{"ruleId":"no-unused-vars","severity":2,"message":"'useEffect' is defined but never used. Allowed unused vars must match /^[A-Z_]/u.","line":1,"column":20,"nodeType":"Identifier","messageId":"unusedVar","endLine":1,"endColumn":29,"suggestions":[{"messageId":"removeVar","data":{"varName":"useEffect"},"fix":{"range":[17,28],"text":""},"desc":"Remove unused variable 'useEffect'."}]},{"ruleId":null,"message":"Unused eslint-disable directive (no problems were reported from 'no-eval').","line":230,"column":13,"severity":1,"nodeType":null,"fix":{"range":[7958,7993],"text":" "}},{"ruleId":"react-hooks/unsupported-syntax","severity":1,"message":"Compilation Skipped: The 'eval' function is not supported\n\nEval is an anti-pattern in JavaScript, and the code executed cannot be evaluated by React Compiler.\n\n  229 |             const prepared = prepareExpressionForEval(expr);\n  230 |             // eslint-disable-next-line no-eval\n> 231 |             return eval(prepared);\n      |                    ^^^^ The 'eval' function is not supported\n  232 |         } catch (e) {\n  233 |             throw new Error('Invalid Expression');\n  234 |         }\n\n","line":231,"column":20,"nodeType":null,"endLine":231,"endColumn":24},{"ruleId":"no-unused-vars","severity":2,"message":"'e' is defined but never used.","line":232,"column":18,"nodeType":"Identifier","messageId":"unusedVar","endLine":232,"endColumn":19},{"ruleId":"no-unused-vars","severity":2,"message":"'e' is defined but never used.","line":269,"column":18,"nodeType":"Identifier","messageId":"unusedVar","endLine":269,"endColumn":19},{"ruleId":"no-unused-vars","severity":2,"message":"'e' is defined but never used.","line":355,"column":18,"nodeType":"Identifier","messageId":"unusedVar","endLine":355,"endColumn":19},{"ruleId":"no-empty","severity":2,"message":"Empty block statement.","line":397,"column":25,"nodeType":"BlockStatement","messageId":"unexpected","endLine":397,"endColumn":28,"suggestions":[{"messageId":"suggestComment","data":{"type":"block"},"fix":{"range":[14519,14520],"text":" /* empty */ "},"desc":"Add comment inside empty block statement."}]}],"suppressedMessages":[],"errorCount":5,"fatalErrorCount":0,"warningCount":2,"fixableErrorCount":0,"fixableWarningCount":1,"source":"import { useState, useEffect } from 'react';\r\nimport { solveMathProblem } from '../services/gemini';\r\n\r\n// Number to Words Conversion for Voice Output\r\nfunction numberToWords(num) {\r\n    if (isNaN(num)) return \"error\";\r\n    if (!isFinite(num)) return \"infinity\";\r\n\r\n    const a = ['', 'one', 'two', 'three', 'four', 'five', 'six', 'seven', 'eight', 'nine', 'ten', 'eleven', 'twelve', 'thirteen', 'fourteen', 'fifteen', 'sixteen', 'seventeen', 'eighteen', 'nineteen'];\r\n    const b = ['', '', 'twenty', 'thirty', 'forty', 'fifty', 'sixty', 'seventy', 'eighty', 'ninety'];\r\n    const g = ['', 'thousand', 'million', 'billion', 'trillion', 'quadrillion'];\r\n\r\n    const convertGroup = (n) => {\r\n        let str = '';\r\n        if (n >= 100) {\r\n            str += a[Math.floor(n / 100)] + ' hundred ';\r\n            n %= 100;\r\n        }\r\n        if (n >= 20) {\r\n            str += b[Math.floor(n / 10)] + (n % 10 ? '-' + a[n % 10] : '') + ' ';\r\n        } else if (n > 0) {\r\n            str += a[n] + ' ';\r\n        }\r\n        return str.trim();\r\n    };\r\n\r\n    let str = '';\r\n    if (num < 0) {\r\n        str += 'negative ';\r\n        num = Math.abs(num);\r\n    }\r\n\r\n    // Handle integer part\r\n    let parts = num.toString().split('.');\r\n    let integerPart = parseInt(parts[0]);\r\n    let decimalPart = parts[1];\r\n\r\n    if (integerPart === 0) {\r\n        str += 'zero';\r\n    } else {\r\n        let i = 0;\r\n        let tempStr = '';\r\n        while (integerPart > 0) {\r\n            let chunk = integerPart % 1000;\r\n            if (chunk > 0) {\r\n                tempStr = convertGroup(chunk) + (g[i] ? ' ' + g[i] : '') + ' ' + tempStr;\r\n            }\r\n            integerPart = Math.floor(integerPart / 1000);\r\n            i++;\r\n        }\r\n        str += tempStr.trim();\r\n    }\r\n\r\n    // Handle decimal part\r\n    if (decimalPart) {\r\n        str += ' point';\r\n        const digits = ['zero', 'one', 'two', 'three', 'four', 'five', 'six', 'seven', 'eight', 'nine'];\r\n        for (let char of decimalPart) {\r\n            if (digits[parseInt(char)]) {\r\n                str += ' ' + digits[parseInt(char)];\r\n            }\r\n        }\r\n    }\r\n\r\n    return str.trim();\r\n}\r\n\r\n// Speak Result Function\r\nfunction speakResult(resultText) {\r\n    if (!window.speechSynthesis) return;\r\n\r\n    // Cancel any currently playing speech to avoid overlap\r\n    window.speechSynthesis.cancel();\r\n\r\n    const num = parseFloat(resultText);\r\n    let spokenText = \"\";\r\n\r\n    if (resultText === 'Error' || isNaN(num)) {\r\n        spokenText = \"There was an error in the calculation.\";\r\n    } else {\r\n        spokenText = \"The answer is \" + numberToWords(num);\r\n    }\r\n\r\n    const utterance = new SpeechSynthesisUtterance(spokenText);\r\n\r\n    // Configure voice settings for \"warm, slightly playful\" tone\r\n    utterance.rate = 0.95; // Slightly slower for clarity\r\n    utterance.pitch = 1.1; // Slightly higher pitch can sound friendlier/warmer\r\n    utterance.volume = 1.0;\r\n\r\n    // Attempt to select a suitable voice\r\n    const voices = window.speechSynthesis.getVoices();\r\n    // Look for a high-quality English voice\r\n    const preferredVoice = voices.find(v =>\r\n        (v.name.includes(\"Google US English\") || v.name.includes(\"Samantha\") || v.name.includes(\"Female\")) && v.lang.startsWith(\"en\")\r\n    ) || voices.find(v => v.lang.startsWith(\"en\"));\r\n\r\n    if (preferredVoice) {\r\n        utterance.voice = preferredVoice;\r\n    }\r\n\r\n    // 0.3s delay before speaking\r\n    setTimeout(() => {\r\n        window.speechSynthesis.speak(utterance);\r\n    }, 300);\r\n}\r\n\r\n// Convert simple English number words to digits for voice input\r\nfunction wordsToDigits(text) {\r\n    if (!text || typeof text !== 'string') return text;\r\n    text = text.toLowerCase();\r\n\r\n    const small = {\r\n        'zero': 0, 'one': 1, 'two': 2, 'three': 3, 'four': 4, 'five': 5, 'six': 6, 'seven': 7, 'eight': 8, 'nine': 9,\r\n        'ten': 10, 'eleven': 11, 'twelve': 12, 'thirteen': 13, 'fourteen': 14, 'fifteen': 15, 'sixteen': 16,\r\n        'seventeen': 17, 'eighteen': 18, 'nineteen': 19\r\n    };\r\n    const tens = { 'twenty': 20, 'thirty': 30, 'forty': 40, 'fifty': 50, 'sixty': 60, 'seventy': 70, 'eighty': 80, 'ninety': 90 };\r\n\r\n    // handle combined tens like 'twenty five'\r\n    text = text.replace(/\\b(?:twenty|thirty|forty|fifty|sixty|seventy|eighty|ninety)\\s+(?:one|two|three|four|five|six|seven|eight|nine)\\b/gi, (m) => {\r\n        const parts = m.split(/\\s+/);\r\n        return (tens[parts[0].toLowerCase()] + small[parts[1].toLowerCase()]);\r\n    });\r\n\r\n    // replace teens and single small words\r\n    for (let w in small) {\r\n        const re = new RegExp('\\\\b' + w + '\\\\b', 'gi');\r\n        text = text.replace(re, small[w]);\r\n    }\r\n    for (let w in tens) {\r\n        const re = new RegExp('\\\\b' + w + '\\\\b', 'gi');\r\n        text = text.replace(re, tens[w]);\r\n    }\r\n\r\n    return text;\r\n}\r\n\r\nfunction processVoiceInput(spoken) {\r\n    spoken = spoken.toLowerCase();\r\n\r\n    // 1. Convert number words to digits first\r\n    spoken = wordsToDigits(spoken);\r\n\r\n    // 2. Operator Conversions\r\n    const conversions = {\r\n        \"plus\": \"+\",\r\n        \"minus\": \"-\",\r\n        \"times\": \"*\",\r\n        \"into\": \"*\",\r\n        \"multiply by\": \"*\",\r\n        \"multiplied by\": \"*\",\r\n        \"multiply\": \"*\",\r\n        \"divided by\": \"/\",\r\n        \"divide\": \"/\",\r\n        \"percent of\": \"%\",\r\n        \"percentages\": \"%\",\r\n        \"percent\": \"%\",\r\n        \"square root\": \"sqrt \",\r\n        \"root\": \"sqrt \",\r\n        \"to the power of\": \"^\",\r\n        \"power\": \"^\",\r\n        \"x\": \"*\"\r\n    };\r\n\r\n    const sortedKeys = Object.keys(conversions).sort((a, b) => b.length - a.length);\r\n\r\n    for (let word of sortedKeys) {\r\n        const escapedWord = word.replace(/[.*+?^${}()|[\\]\\\\]/g, '\\\\$&');\r\n        const regex = new RegExp(word.length === 1 ? `\\\\b${escapedWord}\\\\b` : escapedWord, 'gi');\r\n        spoken = spoken.replace(regex, conversions[word]);\r\n    }\r\n\r\n    // 3. Remove extra filler words\r\n    const extraWords = [\"calculate\", \"what is\", \"equals to\", \"equals\", \"answer\", \"please\", \"by\"];\r\n    extraWords.forEach(w => {\r\n        const regex = new RegExp(`\\\\b${w}\\\\b`, 'gi');\r\n        spoken = spoken.replace(regex, \"\");\r\n    });\r\n\r\n    // Normalize square phrases\r\n    spoken = spoken.replace(/\\b(?:square|squared|x2|x\\s*squared)\\b\\s*(?:of\\s*)?(\\d+(?:\\.\\d+)?)/gi, function (_, n) { return n + '**2'; });\r\n    spoken = spoken.replace(/(\\d+(?:\\.\\d?)?)\\s*\\b(?:square|squared|x2|x\\s*squared)\\b/gi, function (_, n) { return n + '**2'; });\r\n\r\n    // Normalize power phrases\r\n    spoken = spoken.replace(/(\\d+(?:\\.\\d+)?)\\s*(?:\\^|to the power of|power)\\s*(\\d+(?:\\.\\d+)?)/gi, function (_, base, exp) { return base + '^' + exp; });\r\n\r\n    // Normalize square root phrases\r\n    spoken = spoken.replace(/(square root|root|sqrt)\\s*(?:of\\s*)?(\\d+(?:\\.\\d+)?)/gi, function (_, word, n) { return 'sqrt' + n; });\r\n\r\n    return spoken;\r\n}\r\n\r\nexport function useCalculator() {\r\n    const [display, setDisplay] = useState('');\r\n    const [lastCalculated, setLastCalculated] = useState(false);\r\n\r\n    const append = (value) => {\r\n        if (lastCalculated && !isNaN(value)) {\r\n            setDisplay(value);\r\n            setLastCalculated(false);\r\n        } else {\r\n            setDisplay((prev) => prev + value);\r\n        }\r\n    };\r\n\r\n    const clear = () => {\r\n        setDisplay('');\r\n        setLastCalculated(false);\r\n    };\r\n\r\n    const deleteLast = () => {\r\n        setDisplay((prev) => {\r\n            if (!prev) return '';\r\n            const m = prev.match(/(.*?)(\\d+\\.?\\d*)$/);\r\n            return m ? m[1] : prev.slice(0, -1);\r\n        });\r\n    };\r\n\r\n    const prepareExpressionForEval = (expr) => {\r\n        expr = expr.replace(/\\^/g, '**');\r\n        expr = expr.replace(/(\\d+(?:\\.\\d+)?)%\\s*(?:of\\s*)?(\\d+(?:\\.\\d+)?)/g, '($2*($1/100))');\r\n        expr = expr.replace(/(\\d+(?:\\.\\d+)?)%/g, '($1/100)');\r\n        return expr;\r\n    };\r\n\r\n    const safeEval = (expr) => {\r\n        try {\r\n            const prepared = prepareExpressionForEval(expr);\r\n            // eslint-disable-next-line no-eval\r\n            return eval(prepared);\r\n        } catch (e) {\r\n            throw new Error('Invalid Expression');\r\n        }\r\n    };\r\n\r\n    const calculate = () => {\r\n        try {\r\n            let expr = display.trim();\r\n            // n^2 shortcut\r\n            if (/^(\\d+(?:\\.\\d+)?)\\^2$/.test(expr)) {\r\n                const n = Number(expr.match(/^(\\d+(?:\\.\\d+)?)\\^2$/)[1]);\r\n                const res = String(n * n);\r\n                setDisplay(res);\r\n                setLastCalculated(true);\r\n                speakResult(res);\r\n                return;\r\n            }\r\n            // sqrt shortcut\r\n            if (/^sqrt(\\d+(?:\\.\\d+)?)$/.test(expr)) {\r\n                const n = Number(expr.match(/^sqrt(\\d+(?:\\.\\d+)?)$/)[1]);\r\n                if (n < 0) {\r\n                    setDisplay('Error');\r\n                    speakResult('Error');\r\n                } else {\r\n                    const resVal = Math.sqrt(n);\r\n                    const res = Number.isInteger(resVal) ? String(resVal) : resVal.toFixed(6).replace(/\\.0+$/, '');\r\n                    setDisplay(res);\r\n                    speakResult(res);\r\n                }\r\n                setLastCalculated(true);\r\n                return;\r\n            }\r\n            const result = safeEval(expr);\r\n            const resStr = String(result);\r\n            setDisplay(resStr);\r\n            setLastCalculated(true);\r\n            speakResult(resStr);\r\n        } catch (e) {\r\n            setDisplay('Error');\r\n            speakResult('Error');\r\n        }\r\n    };\r\n\r\n    const handleAction = (action) => {\r\n        try {\r\n            const val = display;\r\n            const numVal = Number(safeEval(val || '0'));\r\n            let result;\r\n            switch (action) {\r\n                case '%': {\r\n                    const re = /(\\d+(?:\\.\\d+)?)\\s*([+\\-*/])\\s*(\\d+(?:\\.\\d+)?$)/;\r\n                    const m = re.exec(val);\r\n                    if (m && (m[2] === '+' || m[2] === '-')) {\r\n                        const A = parseFloat(m[1]);\r\n                        const op = m[2];\r\n                        const B = parseFloat(m[3]);\r\n                        const computed = (A * B) / 100;\r\n                        setDisplay(val.slice(0, m.index) + A + op + computed);\r\n                        return;\r\n                    }\r\n                    const m2 = val.match(/(.*?)(\\d+(?:\\.\\d+)?$)/);\r\n                    if (m2) {\r\n                        const prefix = m2[1];\r\n                        const lastNum = parseFloat(m2[2]);\r\n                        setDisplay(prefix + (lastNum / 100));\r\n                    }\r\n                    return;\r\n                }\r\n                case 'square':\r\n                    result = numVal * numVal;\r\n                    break;\r\n                case 'sqrt':\r\n                    if (numVal < 0) throw new Error();\r\n                    result = Math.sqrt(numVal);\r\n                    break;\r\n                case 'sin':\r\n                    result = Math.sin(numVal);\r\n                    break;\r\n                case 'cos':\r\n                    result = Math.cos(numVal);\r\n                    break;\r\n                case 'tan':\r\n                    result = Math.tan(numVal);\r\n                    break;\r\n                case 'asin':\r\n                    if (Math.abs(numVal) > 1) throw new Error();\r\n                    result = Math.asin(numVal);\r\n                    break;\r\n                case 'acos':\r\n                    if (Math.abs(numVal) > 1) throw new Error();\r\n                    result = Math.acos(numVal);\r\n                    break;\r\n                case 'atan':\r\n                    result = Math.atan(numVal);\r\n                    break;\r\n                case 'ln':\r\n                    if (numVal <= 0) throw new Error();\r\n                    result = Math.log(numVal);\r\n                    break;\r\n                case 'log':\r\n                    if (numVal <= 0) throw new Error();\r\n                    result = Math.log10(numVal);\r\n                    break;\r\n                case 'exp':\r\n                    result = Math.exp(numVal);\r\n                    break;\r\n                case '^':\r\n                    setDisplay((prev) => prev + '^');\r\n                    setLastCalculated(false);\r\n                    return;\r\n                case 'pi':\r\n                    setDisplay((prev) => prev + Math.PI.toString());\r\n                    setLastCalculated(false);\r\n                    return;\r\n                default:\r\n                    return;\r\n            }\r\n            if (result !== undefined) {\r\n                const formatted = Number.isInteger(result) ? String(result) : result.toFixed(10).replace(/\\.?0+$/, '');\r\n                setDisplay(formatted);\r\n                setLastCalculated(true);\r\n                speakResult(formatted);\r\n            }\r\n        } catch (e) {\r\n            setDisplay('Error');\r\n            speakResult('Error');\r\n        }\r\n    };\r\n\r\n    const handleVoiceInput = async (spoken) => {\r\n        try {\r\n            if (spoken === 'clear' || spoken === 'c') {\r\n                clear();\r\n                return;\r\n            }\r\n\r\n            // Process the spoken input using our new helper\r\n            const processed = processVoiceInput(spoken);\r\n\r\n            if (/^sqrt(\\d+(?:\\.\\d+)?)$/.test(processed)) {\r\n                const n = Number(processed.match(/^sqrt(\\d+(?:\\.\\d+)?)$/)[1]);\r\n                if (n < 0) {\r\n                    setDisplay('Error');\r\n                    speakResult('Error');\r\n                } else {\r\n                    const resVal = Math.sqrt(n);\r\n                    const res = Number.isInteger(resVal) ? String(resVal) : resVal.toFixed(6).replace(/\\.0+$/, '');\r\n                    setDisplay(res);\r\n                    speakResult(res);\r\n                }\r\n                setLastCalculated(true);\r\n                return;\r\n            }\r\n            // Check for series/sequence keywords or list-like patterns (multiple numbers separated by commas/spaces)\r\n            const isSeriesQuestion = /series|sequence|pattern|next|complete/i.test(spoken);\r\n            const isList = /^\\d+(?:[\\s,]+\\d+){2,}$/.test(spoken); // Matches \"2, 4, 8\" or \"2 4 8\"\r\n\r\n            if (!isSeriesQuestion && !isList) {\r\n                try {\r\n                    const result = safeEval(processed);\r\n                    const resStr = String(result);\r\n                    setDisplay(resStr);\r\n                    setLastCalculated(true);\r\n                    speakResult(resStr);\r\n                    return;\r\n                } catch { }\r\n            }\r\n            // If the spoken input looks like a series request, try to compute locally\r\n            if (isSeriesQuestion || isList) {\r\n                // Extract all numbers from the spoken string\r\n                const nums = spoken.match(/-?\\d+(?:\\.\\d+)?/g);\r\n                if (nums && nums.length >= 2) {\r\n                    const numbers = nums.map(Number);\r\n                    // Try geometric progression detection\r\n                    const ratio = numbers[1] / numbers[0];\r\n                    const isGeo = numbers.every((v, i) => i === 0 || Math.abs(v / numbers[i - 1] - ratio) < 1e-6);\r\n                    if (isGeo) {\r\n                        const next = numbers[numbers.length - 1] * ratio;\r\n                        const resStr = String(next);\r\n                        setDisplay(resStr);\r\n                        setLastCalculated(true);\r\n                        speakResult(resStr);\r\n                        return;\r\n                    }\r\n                    // Try arithmetic progression detection\r\n                    const diff = numbers[1] - numbers[0];\r\n                    const isArith = numbers.every((v, i) => i === 0 || Math.abs(v - numbers[i - 1] - diff) < 1e-6);\r\n                    if (isArith) {\r\n                        const next = numbers[numbers.length - 1] + diff;\r\n                        const resStr = String(next);\r\n                        setDisplay(resStr);\r\n                        setLastCalculated(true);\r\n                        speakResult(resStr);\r\n                        return;\r\n                    }\r\n                }\r\n            }\r\n            setDisplay('Thinking...');\r\n            try {\r\n                const aiResult = await solveMathProblem(spoken);\r\n                const matches = aiResult.match(/-?\\d+(?:\\.\\d+)?/g);\r\n                const finalResult = matches ? matches[matches.length - 1] : aiResult.trim();\r\n                setDisplay(finalResult);\r\n                setLastCalculated(true);\r\n                speakResult(finalResult);\r\n            } catch (aiError) {\r\n                console.error(\"AI Error caught in hook:\", aiError);\r\n                if (aiError.message.includes('API Key')) {\r\n                    setDisplay('Set API Key');\r\n                } else {\r\n                    // Display a short error message to help debug\r\n                    setDisplay('Err: ' + aiError.message.substring(0, 8));\r\n                }\r\n            }\r\n        } catch (e) {\r\n            console.error(\"General Error:\", e);\r\n            setDisplay('Error');\r\n            setLastCalculated(false);\r\n            speakResult('Error');\r\n        }\r\n    };\r\n\r\n    return {\r\n        display,\r\n        setDisplay,\r\n        append,\r\n        clear,\r\n        deleteLast,\r\n        calculate,\r\n        handleAction,\r\n        handleVoiceInput,\r\n    };\r\n}\r\n","usedDeprecatedRules":[]},{"filePath":"D:\\New Projects\\New_Trial\\AI-Voice-Calculator\\react_app\\src\\hooks\\useVoice.js","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"D:\\New Projects\\New_Trial\\AI-Voice-Calculator\\react_app\\src\\main.jsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"D:\\New Projects\\New_Trial\\AI-Voice-Calculator\\react_app\\src\\services\\gemini.js","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"D:\\New Projects\\New_Trial\\AI-Voice-Calculator\\react_app\\vite.config.js","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]}]
